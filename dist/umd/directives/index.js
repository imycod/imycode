!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self)["/directives"]={})}(this,(function(e){"use strict";function n(e,n=2,o=",",t="ï¿¥"){if(n=n||2,!e&&0!==e)return"";if(isNaN(+e))return"";if(0===e||"0"===e)return"0."+"0".repeat(n);var u=(e+"").split("."),i=u[0]?u[0]:0,s=u[1]?u[1]:0;return t+(e=(i+"."+(s=0===s?"0".repeat(n):(+("0."+s)).toFixed(n).split(".")[1])).replace(/(\d{1,3})(?=(?:\d{3})+\.)/g,`$1${o}`))}const o={precision:2,thousands:",",curency:""};e.loadMoney=function(e){const t={mounted(e,t){var u="INPUT"===e.tagName.toLocaleUpperCase()?e:e.querySelector("input")?e.querySelector("input"):null;if(!u)throw new Error("v-money-format requires 1 input");e=u;const i=Object.assign({},o,t.value?t.value:{}),s="/^$*+?.|".includes(i.thousands)?`\\${i.thousands}`:i.thousands,r=new RegExp(s,"g");e.isFocus||(e.value=n(e.value,i.precision,i.thousands,i.curency)),e.onfocus=function(){e.isFocus=!0,e.value=e.value.replace(r,"")},e.onblur=function(){e.isFocus=!1,e.value=n(e.value,i.precision,i.thousands,i.curency)},e.oninput=function(){const n=new RegExp("^\\D*(\\d*(?:\\.\\d{0,"+i.precision+"})?).*$","g");e.value=e.value.replace(r,"").replace(n,"$1").replace(/^(0)[^.]/g,"$1")}}};e.directive("format-money",t)}}));
